---
title: "R Notebook"
output: html_notebook
---

Principles of Anala=ytic Graphics

Principle 1;
* evidence for a hypotheis is always relative to another
* Always ask "Compared to What?"  Control setting? Randomized trial, experiement 
* counter 

Principle 2;
* Show causality, mechanism, explanation, systematic structure
* Causal Framework

Priciple 3;
* Multivariate: more than 2 variables

Priciple 4;
* Completely integrate words, numbers, images, diagrams
* Data graphics should make use of many models of data presentation
* don't let the tool drive the analysis

Principle 5
* Label appropriately

Pricciple 6
* Content is king

### Graphs

understand data properties
patterns
suggest modeling strategies
debug analysis


for personal understanding
axes/legends are cleaned up
color/size for information

##### Simple Summaries of Data

###### One Dimension

* five number summary: 
* Boxplots
* Histograms hist(), rug()
* Density plots
* Barplot

summary()

boxplot(df, col = "blue")
abline(h = 12)

hist(df, col = "green", breaks=100)
rug()
abline(v = 12, lwd = 2)
abline(v = median(df), col = "magenta", lwd = 4)

barplot(table(df), col = "wheat", main = "abc abc")

##### Two dimension

multiple / overlayed 1D plots - lattice/ggplot2
scatterplots
smooth scatter plots

multiple boxplots
boxplot(var1 ~ var2, data = pollution, col = "red")

multiple histograms
par(mfrow = c(2, 1), mar = c(4, 4, 2, 1))
hist(subset(df, region == "east")$var3, col = "green")
hist(subset(df, region == "west")$var3, col = "green")

Scatterplot using color (2-dim)
with(pollution, plot(x, y))
abline(h = 12, lwd=3)

Alternative
par(mfrow = c(1, 2), )

#### Base plotting system
convenient
DIFFICULT TO TRANSLATE TO OTHERS

### 1. Base Plot
```{r}
library(datasets)
data(cars)

with(cars, plot(speed, dist))
```

#### 2. Lattice plot
```{r}
library(lattice)

state <- data.frame(state.x77, region = state.region)

xyplot(Life.Exp ~ Income | region, data = state, 
       layout = c(4, 1))
```

### 3. ggplot2 system
annotate is good
easier than lattice
```{r}
library(ggplot2)
data(mpg)
qplot(displ, hwy, data = mpg)
```

Summary:

can not mix functions


### The Process of Making a Plot

base, lattice, or ggplot2

base graphics: piece by piece with functions
lattice: generally on a single function call
ggplot2: combines both systems


##### Graphs Device
it is something where you can make a plot appear

* window on computer (screen device) quartz in mAC
* PDF file (file device)
* PNG pr JPEG file
* scalable vector device

to use plots in reports, file device is more useful

##### explicitly specify 
```{r}
library(datasets)
# open pdf device; create a pdf file for the plot
pdf(file = "myplot.pdf")   
with(faithful, plot(eruptions, waiting))
title(main = "old faitful geyser")
# still no plot on screen
dev.off()
# now close the pdf file device
```

Vector formats:

* pdf is portable, not efficient if a plot has too many objects

* svg: XML-based scalable vector graphics

* postscript: older format but resize well

Bitmap formats:

png: good for many things, does not resize well

jpeg: good but does not resize well, not ggod for line drawings

tiff


#### Multiple open graphics device

every open graphics are assigned an integer to switch between
```{r}
dev.cur()
```

```{r}
dev.set(2)  # but there is no open device
```

### Copying Plots

dev.copy:     copy a plot from one device to another

dev.copy2pdf: specifically copy a plot to a PDF file

```{r}
library(datasets)

with(faithful, plot(eruptions, waiting))   # create a plot on screen device

title(main = "Old Faithful Geyser data")  # add a main title

dev.copy(png, file = "geyserplot.png")  # copy my plot to a PNG file

dev.off()  # don't forget to close the PNG device
```












