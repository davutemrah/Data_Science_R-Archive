---
title: "R Notebook"
output: html_notebook
---

### Reshaping Data

gather()
spread()

separate()
unit()

### From wide to Long form

```{r}
library(tidyr)
str(gather)
```
-data: The data frame used to reshape the dataset 
-key: Name of the new column created
-value: Select the columns used to fill the key column
-na.rm: Remove missing values. FALSE by default
```{r}
edu_w <- 
    edu%>%
    select(wb_countryname, contains("attain"))

edu_w %>% slice(1:3)
```
```{r}
varss <- names(select(edu_w, contains("attain")))
varss
```


```{r}
edu_w <-
edu_w %>%
    gather(key = "variables", 
           value = "coverage",
           all_of(varss))
head(edu_w)
```
## From Long to Wide
```{r}
str(spread)
```
data: The data frame used to reshape the dataset 
key: Column to reshape long to wide
value: Rows used to fill the new column

```{r}
edu_l <-
edu_w %>%
    spread(key = "variables",
           value = "coverage")
head(edu_l)
```

###  separate()

The separate() function splits a column into two according to a separator. This function is helpful in some situations where the variable is a date. Our analysis can require focussing on month and year and we want to separate the column into two new variables.

separate(data, col, into, sep= "", remove = TRUE)
arguments:
-data: The data frame used to reshape the dataset 
-col: The column to split
-into: The name of the new variables
-sep: Indicates the symbol used that separates the variable, i.e.: 
"-", "_", "&"
-remove: Remove the old column. By default sets to TRUE.

```{r}
df = tibble(name = c("ayan, Davut", "ayan, Tugba", 
                         "ayan, Orhan", "ayan, Emre"),
                grade = c(5, 4, 3, 2))
df
```

```{r}
df1 <-
df %>%
    separate(col = name, into = c("last_name", "first_name"), 
             sep = ",")
df1
```
### Unite columns

unit(data, col, conc ,sep= "", remove = TRUE)
arguments:
-data: The data frame used to reshape the dataset 
-col: Name of the new column
-conc: Name of the columns to concatenate
-sep: Indicates the symbol used that unites the variable, i.e:  "-", "_", "&"
-remove: Remove the old columns. By default, sets to TRUE

```{r}
df1 %>%
    unite(col = name,  last_name:first_name, 
          sep = ",")
```








